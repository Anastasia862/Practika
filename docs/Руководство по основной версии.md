# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Telegram-–±–æ—Ç–∞
–≠—Ç–æ—Ç –∫–æ–¥ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é –∏–≥—Ä—É "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ" –≤ Telegram-–±–æ—Ç–µ. –ë–æ—Ç –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –µ–≥–æ —É–≥–∞–¥–∞—Ç—å, –ø–æ–ª—É—á–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ "–±–æ–ª—å—à–µ" –∏–ª–∏ "–º–µ–Ω—å—à–µ"  
## –ò–º–ø–æ—Ä—Ç—ã
–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã **–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**.


``` python
import random
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters, CallbackContext
```

**_random_**  - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞  
**_telegram_**  - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API   
**_Update_**  - –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –æ—Ç Telegram  
**_Application_**  - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞  
**_CommandHandler –∏ MessageHandler_**  - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π  
**_filters_**  - —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π  
**_CallbackContext_**  - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ 


## –¢–æ–∫–µ–Ω –±–æ—Ç–∞
–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç BotFather –≤ Telegram(—ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–æ—Ç –æ—Ç Telegram –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞–º–∏ https://t.me/BotFather)

```python
TOKEN = "7272092912:AAGhoWeu8i3GLjVrH7V5ttRUNnhwIT1BDc0"
```

![BotFather](https://github.com/Anastasia862/Practika/blob/750f05616e82954033665b8b0a4ce4b29d1c5039/docs/img/BotFather.jpg)

## –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start

–ö–æ–º–∞–Ω–¥–∞ _/start_ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–æ—Ç–æ–º. –ù–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```python
async def start(update: Update, _: CallbackContext) -> None:
    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç! –î–∞–≤–∞–π —Å—ã–≥—Ä–∞–µ–º –≤ –∏–≥—Ä—É '–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ'.\n"
        "–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É /guess —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å."
    )
```

–ó–¥–µ—Å—å _update_ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ö–æ–¥—è—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, –∞ _CallbackContext_ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º –∏ —Ñ—É–Ω–∫—Ü–∏—è–º.

![Start](https://github.com/Anastasia862/Practika/blob/750f05616e82954033665b8b0a4ce4b29d1c5039/docs/img/start.png)

## –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /guess

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É _/guess_, –±–æ—Ç –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ _user_data_ - —Å–ª–æ–≤–∞—Ä–µ:

```python
async def start_guess_game(update: Update, context: CallbackContext) -> None:
    secret_number = random.randint(1, 100)
    context.user_data["secret_number"] = secret_number
    await update.message.reply_text(
        "üéÆ –Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100. –ü–æ–ø—Ä–æ–±—É–π —É–≥–∞–¥–∞—Ç—å!\n"
        "–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —á–∏—Å–ª–æ –∏ –ø—Ä–æ–≤–µ—Ä—å —Å–≤–æ—é —É–¥–∞—á—É."
    )
```
_context.user_data_ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ—Ç –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã.

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ø—ã—Ç–æ–∫ —É–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ

–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤ _user_data_
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∏—Å–ª–æ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Å –∑–∞–≥–∞–¥–∞–Ω–Ω—ã–º –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
4. –û—á–∏—Å—Ç–∫–∞ _user_data_ –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ—Ç–≤–µ—Ç–µ

```python
async def handle_guess(update: Update, context: CallbackContext) -> None:
    if "secret_number" not in context.user_data:
        await update.message.reply_text("–°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É –∫–æ–º–∞–Ω–¥–æ–π /guess")
        return

    try:
        user_guess = int(update.message.text)
        secret_number = context.user_data["secret_number"]

        if user_guess < secret_number:
            await update.message.reply_text("–ú–æ—ë —á–∏—Å–ª–æ –±–æ–ª—å—à–µ!")
        elif user_guess > secret_number:
            await update.message.reply_text("–ú–æ—ë —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ!")
        else:
            await update.message.reply_text(f"üéâ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ –±—ã–ª–æ —á–∏—Å–ª–æ {secret_number}!")
            del context.user_data["secret_number"]
    except ValueError:
        await update.message.reply_text("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!")
```

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:

```python
application.add_handler(CommandHandler("start", start))
application.add_handler(CommandHandler("guess", start_guess_game))
application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_guess))
```
## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

–ó–∞–≤–µ—Ä—à–∞—é—â–∏–π —ç—Ç–∞–ø - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ long polling:

```python
application.run_polling()
```
